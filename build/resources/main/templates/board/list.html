<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Hanssul-lin ë©”ë‰´</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-white text-black">

<!-- ë¡œê³  -->
<div class="bg-black text-white p-4 text-center text-2xl font-bold">
    Hanssul-lin ğŸ½ï¸
</div>

<!-- ì¶”ì²œ ë©”ë‰´ + ë¦¬ë·° ì¹´ë“œ -->
<div class="p-4">
    <!-- ì¶”ì²œ ë©”ë‰´ -->
    <div class="bg-gray-200 rounded-xl text-center p-4">
        <div class="font-semibold text-lg">í•™ìƒì‹ë‹¹ Â· ë”°ìŠ¤í•œë™</div>
        <div id="topMenus" class="bg-black text-white mt-2 p-2 rounded text-sm">
            ë¡œë”© ì¤‘...
        </div>
    </div>

    <!-- ë¦¬ë·° ëª©ë¡ -->
    <h2 class="mt-6 font-bold text-lg">í•™ê´€ ìŒì‹ ë¦¬ë·°</h2>
    <div id="menuCards" class="grid grid-cols-3 gap-4 mt-4">
        <!-- JSë¡œ ì±„ì›Œì§ -->
    </div>

    <!-- ë¦¬ë·°ì“°ê¸° ë²„íŠ¼ -->
    <div class="text-center mt-6">
        <a href="/board/review/write" class="bg-black text-white px-4 py-2 rounded-full">ë¦¬ë·°ì“°ê¸°</a>
    </div>
</div>

<script>
    $(function(){
        $.get("/api/menus", function(data){
            const topMenus = data.slice(0, 2); // ìƒë‹¨ ì¶”ì²œ ë©”ë‰´ 2ê°œ
            const cardMenus = data;            // ëª¨ë“  ë©”ë‰´ ì¹´ë“œ

            // ì¶”ì²œ ë©”ë‰´ í…ìŠ¤íŠ¸ ì¶œë ¥
            const topMenuNames = topMenus.map(m => m.name).join('<br>');
            $('#topMenus').html(topMenuNames);

            // ë¦¬ë·° ì¹´ë“œ ì¶œë ¥
            const cardContainer = $('#menuCards').empty();
            cardMenus.forEach(menu => {
                const card = `
            <div class="rounded overflow-hidden shadow-lg bg-white">
              <img src="${menu.imageUrl}" alt="${menu.name}" class="w-full h-24 object-cover">
              <div class="p-2 text-center text-sm font-semibold">${menu.name} â­${menu.score.toFixed(1)}</div>
            </div>
          `;
                cardContainer.append(card);
            });
        });
    });
</script>
</body>
</html>
