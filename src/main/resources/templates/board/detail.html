<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>메뉴 상세</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/js/detail.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-white text-gray-900">
<!-- 상단바 -->
<nav class="bg-black">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">

            <!-- 왼쪽 로고 -->
            <div class="flex items-center w-1/3">
                <a href="/board/list" class="text-white text-3xl font-bold">Hanssul-lin</a>
            </div>

            <!-- 가운데 메뉴 -->
            <div class="w-1/3 flex justify-center space-x-6">
                    <a href="/board/list" class="text-gray-300 hover:text-white text-xl font-medium font-bold">
                        메뉴 목록
                    </a>
                <!-- 메뉴 등록: 일반 상태 -->
                <a href="/board/create" class="text-gray-300 hover:text-white text-xl font-medium font-bold">
                    메뉴 등록
                </a>
            </div>

            <!-- 오른쪽 마이페이지 -->
            <div class="w-1/3 flex justify-end">
                <a href="/logout" class="text-gray-300 hover:text-white text-xl font-medium font-bold">
                    로그아웃
                </a>

            </div>
        </div>
    </div>
</nav>
<!-- 상단 로고 -->
<div class="bg-black text-white p-4 text-center text-2xl font-bold">
    🍱 메뉴 상세
</div>

<!-- 메뉴 정보 -->
<div class="max-w-3xl mx-auto mt-6 p-4 bg-gray-100 rounded-lg shadow">
    <h1 id="menuName" class="text-2xl font-bold mb-2">로딩 중…</h1>
    <p class="text-lg mb-1">
        💰 가격: <span id="menuPrice" class="font-medium"></span> 원
    </p>
    <p class="text-gray-700 mb-2">
        📝 설명: <span id="menuDescription"></span>
    </p>
</div>

<!-- 리뷰 작성 버튼 -->
<div class="max-w-3xl mx-auto mt-8 p-4 text-right">
    <button id="toggleReviewForm" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
        리뷰 작성
    </button>
</div>

<!-- 리뷰 작성 폼 (기본 숨김) -->
<div id="reviewFormContainer" class="max-w-3xl mx-auto mt-4 p-4 bg-white border border-gray-200 rounded-lg shadow hidden">
    <h2 class="text-xl font-semibold mb-4">리뷰 작성</h2>
    <form id="reviewForm" enctype="multipart/form-data" class="space-y-4">
        <input type="hidden" id="userId" name="userId">

        <div>
            <label class="block font-medium">작성자 이름</label>
            <input type="text" name="userName" class="w-full border border-gray-300 rounded p-2" required>
        </div>

        <div>
            <label class="block font-medium">점수</label>
            <select name="score" class="w-full border border-gray-300 rounded p-2">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>

        <div>
            <label class="block font-medium">내용</label>
            <textarea name="content" rows="4" class="w-full border border-gray-300 rounded p-2" required></textarea>
        </div>

        <div>
            <label class="mr-4">
                <input type="radio" name="recommend" value="true" checked> 👍 추천
            </label>
            <label>
                <input type="radio" name="recommend" value="false"> 👎 비추천
            </label>
        </div>

        <div>
            <label class="block font-medium">사진 업로드</label>
            <input type="file" name="file" accept="image/*" class="w-full border border-gray-300 rounded p-2">
        </div>

        <button type="submit" class="bg-black text-white px-4 py-2 rounded hover:bg-gray-800">
            등록
        </button>
    </form>
</div>

<!-- 리뷰 목록 -->
<div class="max-w-3xl mx-auto mt-10 mb-10 p-4 bg-white border border-gray-200 rounded-lg shadow">
    <h2 class="text-xl font-semibold mb-4">리뷰 목록</h2>
    <div id="reviews" class="space-y-4 text-sm text-gray-800">로딩 중…</div>
</div>

<!-- 폼 토글 스크립트 -->
<script>
    $(document).ready(function () {
        $('#toggleReviewForm').on('click', function () {
            $('#reviewFormContainer').toggleClass('hidden');
            const isVisible = !$('#reviewFormContainer').hasClass('hidden');
            $(this).text(isVisible ? '리뷰 작성 취소' : '리뷰 작성');
        });
    });
</script>

</body>
</html>
